<?xml version="1.0" encoding="ISO-8859-1" ?>

<!DOCTYPE search-metadata PUBLIC 
"-//Maisis//DTD Search MetaData 1.0//EN" 
"http://www.maisis.pt/search/dtds/search-metadata_1_0.dtd">

<search-metadata>
  <name>utilizador</name>
  <label>Pesquisa de Utilizadores</label>
  <description>Pesquisa Utilizadores...</description>
  <table-source>UTILIZADOR_VIEW</table-source>
          
  <!-- search params -->
  <search-params>
    <search-param>
      <name>nome</name>
      <field>upper(NOME)</field>
      <required>false</required>
      <operator>LIKE</operator>
      <container>
        <label>Nome</label>
        <type>text</type>
        <size>360</size>
        <input-size>50</input-size>
        <formatter>
          <class>pt.maisis.search.text.SQLLikeFormat</class>
        </formatter>
      </container>
    </search-param>

    <search-param>
      <name>tipoUtilizador</name>
      <field>ID_TIPO_UTILIZADOR</field>
      <required>false</required>
      <operator>=</operator>
      <container>
        <label>Tipo</label>
        <type>select</type>
        <size>360</size>

        <default-value-list>
          <sql>
            <data-source>java:comp/env/jdbc/SearchDS</data-source>
            <statement>select id, nome from tipo_utilizador</statement>
            <!--
            <column-mapping>
              <key>1</key>
              <value>1</value>
            </column-mapping>
            -->
            <!--
            <selected>
              <key>1</key>
            </selected>
            -->
            <!--
            <cache>
              <id></id>
              <type></type>
            </cache>
            -->
          </sql>
        </default-value-list>
      </container>
    </search-param>
  </search-params>

  <!-- result params -->
  <result-params>

    <result-param>
      <name>nome</name>
      <search-label>Nome</search-label>
      <fields>
        <field>NOME</field> 
      </fields>
      <align>left</align>
    </result-param>

    <result-param>
      <name>numEmpregado</name>
      <search-label>Número</search-label>
      <fields>
        <field>NUM_EMPREGADO</field> 
      </fields>
      <align>right</align>
    </result-param>

    <result-param>
      <name>tipoUtilizador</name>
      <search-label>Tipo</search-label>
      <fields>
        <field>TIPO</field> 
      </fields>
      <align>center</align>
    </result-param>
                         
    <result-param>
      <name>telefone</name>
      <search-label>Telefone</search-label>
      <fields>
        <field>TELEFONE</field> 
      </fields>
      <align>right</align>
    </result-param>
  </result-params>
          
  <!-- required result params -->
  <required-result-params>
    <required-result-param>
      <name>id</name>
      <fields>
        <field>ID</field>
      </fields>
    </required-result-param>
  </required-result-params>
          
</search-metadata>
